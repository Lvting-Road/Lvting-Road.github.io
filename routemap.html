<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>æ­å·åœ°é“é£æ ¼çº¿è·¯å›¾ç»˜åˆ¶å™¨ V1.0.0</title>
        <link rel="stylesheet" href="main.css">
        <style>
            body {
                background-image: none;
                font-family: Arial, SimHei;
            }
            button, th {
                user-select: none;  /* ç¦æ­¢é€‰ä¸­ */
            }
            tr>* {
                text-align: left;
                padding: 5px;       /* padding åœ¨ border å†… */
                background-color: #fff;
                transition: background-color 0.5s;
            }
            tr>*:hover {
                background-color: #ddd;
            }
            input {
                font-family: Arial, SimHei;
                width: 100px;
            }
        </style>
    </head>
    <body style="background-color: rgb(255, 255, 255);">
        <canvas id="cv">
            å¦‚æœæ‚¨åœ¨æµè§ˆå™¨é‡Œçœ‹åˆ°è¿™è¡Œæ–‡æœ¬ï¼Œè¯´æ˜æ‚¨çš„æµè§ˆå™¨ç‰ˆæœ¬è¿‡æ—§ï¼Œä¸æ”¯æŒ &lt;canvas&gt; æ ‡ç­¾ã€‚<br>
            å»ºè®®ä¸‹è½½ Chrome -> https://google.cn/chrome<br>
            ä¸å»ºè®®ä½¿ç”¨ 360 å®‰å…¨æµè§ˆå™¨ã€QQ æµè§ˆå™¨ã€Microsoft Edge ç­‰<a style="display: none;">ä¹±ä¸ƒå…«ç³Ÿçš„</a>æµè§ˆå™¨ã€‚
            <!-- å¾ˆå¥½ä½ æ¥çœ‹è¿™ä¸ªé¡µé¢çš„ä»£ç äº†ï¼Œæœ‰æ²¡æœ‰ç¬‘æ­» :) -->
            <!-- å¦‚æœä½ çœ‹åˆ°äº†è¿™è¡Œæ–‡å­—å°±è¯´æ˜ä½ åœ¨å·çœ‹ï¼ˆåˆ’æ‰ ä»£ç ï¼Œä»£ç é‡Œçœ‹åˆ°å‰å‡ è¡Œæ–‡å­—ä¸è¦ç´§çš„ï¼Œä¹Ÿä¸å½±å“çˆ¬è™«ï¼ˆå¦‚æœä½ æ˜¯çˆ¬è™«çš„è¯ï¼‰ -->
        </canvas>
        <br>
        <button accesskey="r" xf="(Alt + R)" onclick="draw()">ğŸ”ƒé‡æ–°ç»˜åˆ¶</button>
        <button accesskey="d" xf="(Alt + D)" onclick="download()">â¬‡ï¸ä¸‹è½½</button>
        <button accesskey="c" xf="(Alt + C)" onclick="downloadAll()">â¬ä¸‹è½½å…¨éƒ¨</button>
        <br>
        <label for="code">çº¿è·¯ç¼–å·</label>
        <input type="text" id="code" onkeyup="draw()">
        <label for="color">çº¿è·¯é¢œè‰²</label>
        <input type="color" id="color" onchange="draw()">
        <label for="current">å½“å‰è½¦ç«™</label>
        <input type="number" id="current" onchange="draw()">
        <br><br>
        <button accesskey="a" xf="(Alt + A)" onclick="addLine()">âœ…æäº¤è½¦ç«™</button>
        <button accesskey="s" xf="(Alt + S)" onclick="removeLine()">ğŸ—‘ï¸åˆ é™¤è½¦ç«™</button>
        <br>
        <table id="stations">
            <thead>
                <tr>
                    <th>ä¸­æ–‡ç«™å</th>
                    <th>è‹±æ–‡ç«™å</th>
                    <th>å¯æ¢ä¹˜çº¿è·¯</th>
                </tr>
            </thead>
            <tbody>
                <tr id="input">
                    <td><input type="text" id="input1"></td>
                    <td><input type="text" id="input2"></td>
                    <td><input type="text" id="input3"></td>
                </tr>
            </tbody>
        </table>
        <div id="trashbin">
            <!-- ç”¨äºæ‚¬æµ®ç­‰æ•ˆæœï¼›ä¸€å¼€å§‹æ²¡æœ‰å†…å®¹å°±ä¸æ˜¾ç¤º -->
            <div id="xf-info" style="opacity: 0%;"></div>
        </div>
        <script src="moreattr.js"></script>
        <script src="canvas1.js"></script>
        <script>
            function addLine() {
                // å°†ç”¨æˆ·è¾“å…¥çš„å†…å®¹æ·»åŠ åˆ°è¡¨æ ¼ä¸­
                // è·å–åˆ°çš„æ˜¯ input çš„ä¸Šå±‚å…ƒç´ 
                let container = document.getElementById('input');
                let innerHTML = '';
                // æŠŠç”¨æˆ·è¦æ·»åŠ çš„ç«™ç‚¹å†™xåˆ°æ–°çš„ <tr> é‡Œï¼Œå…ˆè®¡ç®— <tr> çš„ innerHTML
                for (let td of container.children) {
                    let input = td.firstChild;
                    innerHTML += `<td>${input.value}</td>`;
                    input.value = '';
                }
                if (innerHTML.length == (4 + 5) * 3) {
                    // ä»€ä¹ˆä¹Ÿæ²¡è¾“å…¥ï¼
                    alert('è¯·è¾“å…¥æ–‡æœ¬ï¼Œè€Œä¸æ˜¯ç©ºç™½ï¼');
                    return;
                }
                let tr = document.createElement('tr');
                tr.innerHTML = innerHTML;
                container.parentElement.insertBefore(tr, container);
                // é‡æ–°é€‰ä¸­ç¬¬ä¸€ä¸ªè¾“å…¥æ¡†ï¼ˆä¸­æ–‡ç«™åï¼‰
                container
                    // .firstChild // ç¬¬ä¸€ä¸ªè¾“å…¥æ¡†æ‰€åœ¨çš„ <td>
                    // .firstChild // <td> çš„ç¬¬ä¸€ä¸ªä¸‹å±‚å…ƒç´  <input>
                    // å¥‡æ€ªæœºåˆ¶ï¼Œ.firstChild æåˆ°ä¸çŸ¥é“å“ªé‡Œçš„æ–‡æœ¬ä¸Šå»äº†ï¼ˆæµè§ˆå™¨æ§åˆ¶å°æ˜¾ç¤º #textï¼‰
                    .children[0].children[0]
                        .select();
                // // å°†å†…å®¹ä¿å­˜è‡³ Cookie
                // document.cookie = `Fri, 31 Dec 9999 23:59:59 GMT`;
                // æ›´æ–°çº¿è·¯å›¾
                draw();
            }
            function removeLine() {
                // åˆ é™¤è½¦ç«™
                let tbody = document.getElementById('input').parentElement;
                let len;
                if ((len = tbody.children.length) < 2) {
                    // ç”±äº length ä¸ºæ•´æ•°åˆ™ < 2 ä»£è¡¨ <= 1ï¼Œ1 æ˜¯è¾“å…¥æ¡†æ‰€åœ¨çš„è¡Œ
                    alert('æ²¡æœ‰è½¦ç«™ä¾›åˆ é™¤ï¼');
                    return;
                }
                // è·å–å¹¶åˆ é™¤å€’æ•°ç¬¬äºŒä¸ªï¼ˆå€’æ•°ç¬¬ä¸€ä¸ªä¸ºè¾“å…¥æ¡†æ‰€åœ¨çš„è¡Œï¼‰
                tbody.children[len - 2].remove();
                draw();
            }
            document.getElementById('input').setAttribute('onkeypress', 'if(event.code == "Enter") addLine();');
        </script>
    </body>
</html>
